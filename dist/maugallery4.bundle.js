(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t){return function(t){if(Array.isArray(t))return n(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,a(i.key),i)}}function a(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var a=i.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:String(n)}var o,l,r,s=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.element=t,this.options=Object.assign(n.defaults,e),this.tagsCollection=[],this.init()}var a,o,l;return a=n,(o=[{key:"init",value:function(){var t=this;this.createRowWrapper(),this.options.lightBox&&this.createLightBox(),this.listeners(),this.element.querySelectorAll(".gallery-item").forEach((function(e){t.responsiveImageItem(e),t.moveItemInRowWrapper(e),t.wrapItemInColumn(e,t.options.columns);var n=e.getAttribute("data-gallery-tag");t.options.showTags&&n&&!t.tagsCollection.includes(n)&&t.tagsCollection.push(n)})),this.options.showTags&&this.showItemTags(),this.element.style.display="block",this.element.style.opacity=0,setTimeout((function(){t.element.style.transition="opacity 0.5s",t.element.style.opacity=1}),0)}},{key:"createRowWrapper",value:function(){if(!this.element.querySelector(".gallery-items-row")){var t=document.createElement("div");t.classList.add("gallery-items-row","row"),this.element.appendChild(t)}}},{key:"wrapItemInColumn",value:function(t,n){var i,a=this.getColumnClasses(n),o=document.createElement("div");(i=o.classList).add.apply(i,["item-column","mb-4"].concat(e(a))),o.appendChild(t.cloneNode(!0)),t.parentNode.replaceChild(o,t)}},{key:"getColumnClasses",value:function(e){var n=[];return"number"==typeof e?n.push("col-".concat(Math.ceil(12/e))):"object"===t(e)&&(e.xs&&n.push("col-".concat(Math.ceil(12/e.xs))),e.sm&&n.push("col-sm-".concat(Math.ceil(12/e.sm))),e.md&&n.push("col-md-".concat(Math.ceil(12/e.md))),e.lg&&n.push("col-lg-".concat(Math.ceil(12/e.lg))),e.xl&&n.push("col-xl-".concat(Math.ceil(12/e.xl)))),n}},{key:"moveItemInRowWrapper",value:function(t){this.element.querySelector(".gallery-items-row").appendChild(t)}},{key:"responsiveImageItem",value:function(t){"IMG"===t.tagName&&t.classList.add("img-fluid")}},{key:"openLightBox",value:function(t){var e=document.getElementById(this.options.lightboxId||"galleryLightbox");e.querySelector(".lightboxImage").src=t.src,e.classList.add("show"),e.style.display="block"}},{key:"prevImage",value:function(){this.navigateImage(-1)}},{key:"nextImage",value:function(){this.navigateImage(1)}},{key:"navigateImage",value:function(t){var n=document.querySelector(".lightboxImage").src,i=document.querySelectorAll("img.gallery-item"),a=e(i).findIndex((function(t){return t.src===n})),o=e(i).filter((function(t){var e=document.querySelector(".tags-bar span.active-tag").dataset.imagesToggle;return"all"===e||t.getAttribute("data-gallery-tag")===e}));a=(a+t+o.length)%o.length,document.querySelector(".lightboxImage").src=o[a].src}},{key:"createLightBox",value:function(){var t=this.options.lightboxId||"galleryLightbox",e=document.createElement("div");e.classList.add("modal","fade"),e.id=t,e.setAttribute("tabindex","-1"),e.setAttribute("role","dialog"),e.setAttribute("aria-hidden","true"),e.innerHTML='\n          <div class="modal-dialog" role="document">\n              <div class="modal-content">\n                  <div class="modal-body">\n                      '.concat(this.options.navigation?'<div class="mg-prev" style="cursor:pointer;position:absolute;top:50%;left:-15px;background:white;"><</div>':'<span style="display:none;" />','\n                      <img class="lightboxImage img-fluid" alt="Contenu de l\'image affichÃ©e dans la modale au clique"/>\n                      ').concat(this.options.navigation?'<div class="mg-next" style="cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}">></div>':'<span style="display:none;" />',"\n                  </div>\n              </div>\n          </div>\n      "),this.element.appendChild(e)}},{key:"showItemTags",value:function(){var t=['<li class="nav-item"><span class="nav-link active active-tag"  data-images-toggle="all">Tous</span></li>'].concat(e(this.tagsCollection.map((function(t){return'<li class="nav-item active"><span class="nav-link"  data-images-toggle="'.concat(t,'">').concat(t,"</span></li>")})))).join(""),n=document.createElement("ul");n.classList.add("my-4","tags-bar","nav","nav-pills"),n.innerHTML=t,"bottom"===this.options.tagsPosition?this.element.appendChild(n):"top"===this.options.tagsPosition?this.element.insertBefore(n,this.element.firstChild):console.error("Unknown tags position: ".concat(this.options.tagsPosition))}},{key:"filterByTag",value:function(t){var e=t.target.dataset.imagesToggle;document.querySelector(".active.active-tag").classList.remove("active","active-tag"),t.target.classList.add("active","active-tag"),document.querySelectorAll(".gallery-item").forEach((function(t){var n=t.closest(".item-column");"all"===e||t.getAttribute("data-gallery-tag")===e?(n.style.display="block",setTimeout((function(){return n.style.opacity=1}),300)):(n.style.opacity=0,setTimeout((function(){return n.style.display="none"}),300))}))}},{key:"listeners",value:function(){var t=this;this.element.querySelectorAll(".gallery-item").forEach((function(e){e.addEventListener("click",(function(){t.options.lightBox&&"IMG"===e.tagName&&t.openLightBox(e)}))})),this.element.addEventListener("click",(function(e){e.target.classList.contains("nav-link")&&t.filterByTag(e),e.target.classList.contains("mg-prev")&&t.prevImage(),e.target.classList.contains("mg-next")&&t.nextImage()}))}}])&&i(a.prototype,o),l&&i(a,l),Object.defineProperty(a,"prototype",{writable:!1}),n}();o=s,r={columns:3,lightBox:!0,lightboxId:null,showTags:!0,tagsPosition:"bottom",navigation:!0},(l=a(l="defaults"))in o?Object.defineProperty(o,l,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[l]=r,window.MauGallery=s})();
//# sourceMappingURL=maugallery4.bundle.js.map