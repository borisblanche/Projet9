{"version":3,"file":"maugallery4.bundle.js","mappings":"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","sources":["webpack://projet9/./assets/maugallery.js"],"sourcesContent":["class MauGallery {\r\n  constructor(element, options) {\r\n      this.element = element;\r\n      this.options = Object.assign(MauGallery.defaults, options);\r\n      this.tagsCollection = [];\r\n      this.init();\r\n  }\r\n\r\n  static defaults = {\r\n      columns: 3,\r\n      lightBox: true,\r\n      lightboxId: null,\r\n      showTags: true,\r\n      tagsPosition: \"bottom\",\r\n      navigation: true\r\n  };\r\n\r\n  init() {\r\n      this.createRowWrapper();\r\n      if (this.options.lightBox) {\r\n          this.createLightBox();\r\n      }\r\n      this.listeners();\r\n\r\n      const galleryItems = this.element.querySelectorAll(\".gallery-item\");\r\n      galleryItems.forEach((item) => {\r\n          this.responsiveImageItem(item);\r\n          this.moveItemInRowWrapper(item);\r\n          this.wrapItemInColumn(item, this.options.columns);\r\n          const theTag = item.getAttribute(\"data-gallery-tag\");\r\n          if (this.options.showTags && theTag && !this.tagsCollection.includes(theTag)) {\r\n              this.tagsCollection.push(theTag);\r\n          }\r\n      });\r\n\r\n      if (this.options.showTags) {\r\n          this.showItemTags();\r\n      }\r\n\r\n      this.element.style.display = 'block';\r\n      this.element.style.opacity = 0;\r\n      setTimeout(() => {\r\n          this.element.style.transition = 'opacity 0.5s';\r\n          this.element.style.opacity = 1;\r\n      }, 0);\r\n  }\r\n\r\n  createRowWrapper() {\r\n      if (!this.element.querySelector(\".gallery-items-row\")) {\r\n          const rowWrapper = document.createElement('div');\r\n          rowWrapper.classList.add('gallery-items-row', 'row');\r\n          this.element.appendChild(rowWrapper);\r\n      }\r\n  }\r\n  wrapItemInColumn(element, columns) {\r\n    const columnClasses = this.getColumnClasses(columns);\r\n    const itemColumn = document.createElement('div');\r\n    itemColumn.classList.add('item-column', 'mb-4', ...columnClasses);\r\n\r\n    // Déplacer l'élément dans le nouvel élément conteneur\r\n    itemColumn.appendChild(element.cloneNode(true));\r\n    element.parentNode.replaceChild(itemColumn, element);\r\n}\r\n\r\n\r\n  getColumnClasses(columns) {\r\n      const classes = [];\r\n      if (typeof columns === 'number') {\r\n          classes.push(`col-${Math.ceil(12 / columns)}`);\r\n      } else if (typeof columns === 'object') {\r\n          if (columns.xs) classes.push(`col-${Math.ceil(12 / columns.xs)}`);\r\n          if (columns.sm) classes.push(`col-sm-${Math.ceil(12 / columns.sm)}`);\r\n          if (columns.md) classes.push(`col-md-${Math.ceil(12 / columns.md)}`);\r\n          if (columns.lg) classes.push(`col-lg-${Math.ceil(12 / columns.lg)}`);\r\n          if (columns.xl) classes.push(`col-xl-${Math.ceil(12 / columns.xl)}`);\r\n      }\r\n      return classes;\r\n  }\r\n\r\n  moveItemInRowWrapper(element) {\r\n      const rowWrapper = this.element.querySelector(\".gallery-items-row\");\r\n      rowWrapper.appendChild(element);\r\n  }\r\n\r\n  responsiveImageItem(element) {\r\n      if (element.tagName === 'IMG') {\r\n          element.classList.add('img-fluid');\r\n      }\r\n  }\r\n\r\n  openLightBox(element) {\r\n      const lightbox = document.getElementById(this.options.lightboxId || \"galleryLightbox\");\r\n      const lightboxImage = lightbox.querySelector(\".lightboxImage\");\r\n      lightboxImage.src = element.src;\r\n      lightbox.classList.add('show');\r\n      lightbox.style.display = 'block';\r\n  }\r\n\r\n  prevImage() {\r\n      this.navigateImage(-1);\r\n  }\r\n\r\n  nextImage() {\r\n      this.navigateImage(1);\r\n  }\r\n\r\n  navigateImage(direction) {\r\n      const activeImageSrc = document.querySelector(\".lightboxImage\").src;\r\n      const galleryItems = document.querySelectorAll(\"img.gallery-item\");\r\n      let activeIndex = [...galleryItems].findIndex(img => img.src === activeImageSrc);\r\n\r\n      const filteredItems = [...galleryItems].filter(img => {\r\n          const activeTag = document.querySelector(\".tags-bar span.active-tag\").dataset.imagesToggle;\r\n          return activeTag === \"all\" || img.getAttribute(\"data-gallery-tag\") === activeTag;\r\n      });\r\n\r\n      activeIndex = (activeIndex + direction + filteredItems.length) % filteredItems.length;\r\n      document.querySelector(\".lightboxImage\").src = filteredItems[activeIndex].src;\r\n  }\r\n\r\n  createLightBox() {\r\n      const lightboxId = this.options.lightboxId || \"galleryLightbox\";\r\n      const lightbox = document.createElement('div');\r\n      lightbox.classList.add('modal', 'fade');\r\n      lightbox.id = lightboxId;\r\n      lightbox.setAttribute('tabindex', '-1');\r\n      lightbox.setAttribute('role', 'dialog');\r\n      lightbox.setAttribute('aria-hidden', 'true');\r\n      lightbox.innerHTML = `\r\n          <div class=\"modal-dialog\" role=\"document\">\r\n              <div class=\"modal-content\">\r\n                  <div class=\"modal-body\">\r\n                      ${this.options.navigation ? '<div class=\"mg-prev\" style=\"cursor:pointer;position:absolute;top:50%;left:-15px;background:white;\"><</div>' : '<span style=\"display:none;\" />'}\r\n                      <img class=\"lightboxImage img-fluid\" alt=\"Contenu de l'image affichée dans la modale au clique\"/>\r\n                      ${this.options.navigation ? '<div class=\"mg-next\" style=\"cursor:pointer;position:absolute;top:50%;right:-15px;background:white;}\">></div>' : '<span style=\"display:none;\" />'}\r\n                  </div>\r\n              </div>\r\n          </div>\r\n      `;\r\n      this.element.appendChild(lightbox);\r\n  }\r\n\r\n  showItemTags() {\r\n      const tagItems = [\r\n          '<li class=\"nav-item\"><span class=\"nav-link active active-tag\"  data-images-toggle=\"all\">Tous</span></li>',\r\n          ...this.tagsCollection.map(tag => `<li class=\"nav-item active\"><span class=\"nav-link\"  data-images-toggle=\"${tag}\">${tag}</span></li>`)\r\n      ].join('');\r\n\r\n      const tagsRow = document.createElement('ul');\r\n      tagsRow.classList.add('my-4', 'tags-bar', 'nav', 'nav-pills');\r\n      tagsRow.innerHTML = tagItems;\r\n\r\n      if (this.options.tagsPosition === \"bottom\") {\r\n          this.element.appendChild(tagsRow);\r\n      } else if (this.options.tagsPosition === \"top\") {\r\n          this.element.insertBefore(tagsRow, this.element.firstChild);\r\n      } else {\r\n          console.error(`Unknown tags position: ${this.options.tagsPosition}`);\r\n      }\r\n  }\r\n\r\n  filterByTag(event) {\r\n      const activeTag = event.target.dataset.imagesToggle;\r\n\r\n      document.querySelector(\".active.active-tag\").classList.remove(\"active\", \"active-tag\");\r\n      event.target.classList.add(\"active\", \"active-tag\");\r\n\r\n      document.querySelectorAll(\".gallery-item\").forEach(item => {\r\n          const itemColumn = item.closest(\".item-column\");\r\n          if (activeTag === \"all\" || item.getAttribute(\"data-gallery-tag\") === activeTag) {\r\n              itemColumn.style.display = \"block\";\r\n              setTimeout(() => itemColumn.style.opacity = 1, 300);\r\n          } else {\r\n              itemColumn.style.opacity = 0;\r\n              setTimeout(() => itemColumn.style.display = \"none\", 300);\r\n          }\r\n      });\r\n  }\r\n\r\n  listeners() {\r\n      this.element.querySelectorAll(\".gallery-item\").forEach(item => {\r\n          item.addEventListener(\"click\", () => {\r\n              if (this.options.lightBox && item.tagName === \"IMG\") {\r\n                  this.openLightBox(item);\r\n              }\r\n          });\r\n      });\r\n\r\n      this.element.addEventListener(\"click\", event => {\r\n          if (event.target.classList.contains(\"nav-link\")) {\r\n              this.filterByTag(event);\r\n          }\r\n          if (event.target.classList.contains(\"mg-prev\")) {\r\n              this.prevImage();\r\n          }\r\n          if (event.target.classList.contains(\"mg-next\")) {\r\n              this.nextImage();\r\n          }\r\n      });\r\n  }\r\n}\r\nwindow.MauGallery = MauGallery;\r\n// Usage Example:\r\n\r\n\r\n"],"names":["MauGallery","element","options","_classCallCheck","this","Object","assign","defaults","tagsCollection","init","key","value","_this","createRowWrapper","lightBox","createLightBox","listeners","querySelectorAll","forEach","item","responsiveImageItem","moveItemInRowWrapper","wrapItemInColumn","columns","theTag","getAttribute","showTags","includes","push","showItemTags","style","display","opacity","setTimeout","transition","querySelector","rowWrapper","document","createElement","classList","add","appendChild","_itemColumn$classList","columnClasses","getColumnClasses","itemColumn","apply","concat","_toConsumableArray","cloneNode","parentNode","replaceChild","classes","Math","ceil","_typeof","xs","sm","md","lg","xl","tagName","lightbox","getElementById","lightboxId","src","navigateImage","direction","activeImageSrc","galleryItems","activeIndex","findIndex","img","filteredItems","filter","activeTag","dataset","imagesToggle","length","id","setAttribute","innerHTML","navigation","tagItems","map","tag","join","tagsRow","tagsPosition","insertBefore","firstChild","console","error","event","target","remove","closest","_this2","addEventListener","openLightBox","contains","filterByTag","prevImage","nextImage","window"],"sourceRoot":""}